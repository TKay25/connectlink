<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Construction Agreement</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">

<style>
    body {
        font-family: 'Roboto', sans-serif;
        background: #eef2fa;
        color: #1E2A56;
    }

    .agreement-container {
        background: #ffffff;
        width: 95%;
        margin: auto;
        padding: 50px 60px;
        border-radius: 14px;
        box-shadow: 0 8px 28px rgba(0,0,0,0.12);
        line-height: 1.2;
    }

    .logo {
        display: block;
        margin: 0 auto 20px auto;
        width: 230px;
    }

    h2.title {
        text-align: center;
        font-weight: 900;
        color: #1E2A56;
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .subtitle-line {
        width: 120px;
        height: 3px;
        background: #1E2A56;
        margin: 10px auto 30px auto;
        border-radius: 10px;
    }

    h4.section-title {
        text-align: center;
        background-color: #1E2A56;
        color: white;
        padding: 5px 7px;
        border-radius: 6px;
        font-size: 1rem;
        margin-top: 40px;
        margin-bottom: 20px;
        font-weight: 800;
        letter-spacing: 0.5px;
    }

    p, li {
        font-size: 0.85rem;
        color: #1E2A56;
    }

    /* NEW FLEX ROW FOR LABELS + VALUES */
    .field-row {
        display: flex;
        align-items: center;
        margin-bottom: 12px;
    }

    .field-label {
        font-weight: 700;
        width: 170px; 
        font-size: 14px;
        flex-shrink: 0;
    }

    .field-value {
        flex: 1;
        border-bottom: 1.5px solid #1E2A56;
        padding-bottom: 2px;
        font-size: 14px;
        min-height: 20px;
    }

    .scope-box {
        border: 1.5px solid #1E2A56;
        border-radius: 10px;
        padding: 10px;
        min-height: 80px;
        background: #fafbff;
        margin-bottom: 10px;
    }

    ul {
        margin-top: 5px;
        margin-bottom: 20px;
    }

    li {
        margin-bottom: 6px;
    }

    .signature-block {
        margin-top: 60px;
    }

    .signature-line {
        margin-top: 30px;
        margin-bottom: 35px;
    }

    .signature-label {
        display: block;
        font-weight: 700;
        margin-bottom: 5px;
    }

</style>
</head>

<body>

<div class="agreement-container" style="border: 3px solid #1E2A56; border-radius: 14px; padding: 20px;">

        <img class="logo" src="{{ url_for('static', filename='images/web-logo.png') }}" alt="ConnectLink Logo">

        <h2 class="title">Construction Agreement</h2>
        <div class="subtitle-line"></div>

        <p>
            This Construction Agreement ("Agreement") is made and entered into on 
            <strong>{{ project.agreement_date }}</strong> 
            ("Effective Date") by and between:
        </p>

        <!-- CLIENT DETAILS -->
        <h4 class="section-title">CLIENT DETAILS</h4>

        <div class="field-row">
            <div class="field-label">Name:</div>
            <div class="field-value">{{ project.client_name }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Address:</div>
            <div class="field-value">{{ project.client_address }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Contact Number:</div>
            <div class="field-value">0{{ project.client_whatsapp }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Email:</div>
            <div class="field-value">{{ project.client_email }}</div>
        </div>

        <!-- NEXT OF KIN -->
        <h4 class="section-title">NEXT OF KIN DETAILS</h4>

        <div class="field-row">
            <div class="field-label">Name:</div>
            <div class="field-value">{{ project.next_of_kin_name }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Address:</div>
            <div class="field-value">{{ project.next_of_kin_address }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Contact Number:</div>
            <div class="field-value">0{{ project.next_of_kin_phone }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Relationship:</div>
            <div class="field-value">{{ project.relationship }}</div>
        </div>

        <!-- CONTRACTOR DETAILS -->
        <h4 class="section-title">CONTRACTOR DETAILS</h4>

        <div class="field-row">
            <div class="field-label">Name:</div>
            <div class="field-value">{{ project.companyname }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Address:</div>
            <div class="field-value">{{ project.companyaddress }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Contact Number:</div>
            <div class="field-value">0{{ project.companycontact1 }} ; 0{{project.companycontact2}}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Email:</div>
            <div class="field-value">{{ project.companyemail }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Administrator Name:</div>
            <div class="field-value">{{ project.projectadministratorname }}</div>
        </div>

        <br><br>

        <!-- PROJECT DETAILS -->
        <h4 class="section-title">PROJECT DETAILS</h4>

        <div class="field-row">
            <div class="field-label">Project Name:</div>
            <div class="field-value">{{ project.project_name }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Project Location:</div>
            <div class="field-value">{{ project.project_location }}</div>
        </div>

        <p><strong>Project Scope:</strong></p>
        <div class="scope-box">
            {{ project.project_description }}
        </div>

        <!-- PAYMENT TERMS -->
        <h4 class="section-title">PAYMENT TERMS</h4>

        <div class="field-row">
            <div class="field-label">Total Contract Price:</div>
            <div class="field-value">USD {{ project.total_contract_price }}</div>
        </div>

        <div class="field-row">
            <div class="field-label">Deposit Paid:</div>
            <div class="field-value">USD {{ project.depositorbullet }}</div>
        </div>

        <p><strong>Payment Schedule:</strong></p>
        <ul>
            <li>Month 1: <span class="field-value" style="display:inline-block; width:150px;">USD {{project.installment1amount}}</span></li>
            <li>Month 2: <span class="field-value" style="display:inline-block; width:150px;">USD {{project.installment2amount}}</span></li>
            <li>Month 3: <span class="field-value" style="display:inline-block; width:150px;">USD {{project.installment3amount}}</span></li>
            <li>Month 4: <span class="field-value" style="display:inline-block; width:150px;">USD {{project.installment4amount}}</span></li>
            <li>Month 5: <span class="field-value" style="display:inline-block; width:150px;">USD {{project.installment5amount}}</span></li>
            <li>Month 6: <span class="field-value" style="display:inline-block; width:150px;">USD {{project.installment6amount}}</span></li>
        </ul>

        <!-- LATE PAYMENT -->
        <h4 class="section-title">LATE PAYMENT AND INTEREST</h4>
        <p>- If the Client fails to make any payment on or before the due date, the Client shall be liable to pay 
            interest at a rate of <span class="field-value" style="display:inline-block; width:80px;">{{project.late_payment_interest}}</span>% per annum.
        </p>
        <p>- Interest is calculated daily and compounded monthly.</p>
        <p>- The Client shall also be liable for any costs incurred in recovering overdue amounts.</p>

        <!-- TERMS AND CONDITIONS -->
        <h4 class="section-title">TERMS AND CONDITIONS</h4>
        <ol>
            <li>The Contractor shall commence work within <span class="field-value" style="display:inline-block; width:80px;"></span> days of receiving the first payment.</li>
            <li>The Client shall make payments as per the payment schedule.</li>
            <li>The Contractor shall complete the project within <span class="field-value" style="display:inline-block; width:80px;"></span> months.</li>
            <li>The Client is responsible for obtaining all required permits.</li>
            <li>The Contractor is responsible for all materials and labor.</li>
        </ol>

        <!-- TERMINATION -->
        <h4 class="section-title">TERMINATION</h4>
        <p>This Agreement may be terminated if either party fails to comply with the terms herein.</p>

        <!-- DISPUTE -->
        <h4 class="section-title">DISPUTE RESOLUTION</h4>
        <p>Any disputes shall be resolved through arbitration under the Arbitration Act of Zimbabwe.</p>

        <!-- LAW -->
        <h4 class="section-title">GOVERNING LAW</h4>
        <p>This Agreement is governed by the laws of Zimbabwe.</p>

        <!-- SIGNATURES -->
        <h4 class="section-title">SIGNATURES</h4>

        <div class="signature-block">

            <div class="signature-line">
                <span class="signature-label">Client Signature:</span>
                <div class="field-value" style="width:350px;"></div>
            </div>

            <div class="signature-line">
                <span class="signature-label">Contractor Signature:</span>
                <div class="field-value" style="width:350px;"></div>
            </div>

            <div class="signature-line">
                <span class="signature-label">Date: {{ project.agreement_date }}</span>
                <div class="field-value" style="width:220px;"></div>
            </div>

        </div>

</div>

</body>
</html>
